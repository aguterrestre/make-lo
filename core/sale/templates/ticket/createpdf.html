<!DOCTYPE html>
{% load static %}

<html lang="en">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>{{ title }}</title>
    <style>
        .img-invoice {
            width: 100px;
            text-align: left;
            margin: 0 auto;
        }

        .head {
            text-align: left;
            text-transform: uppercase;
        }

        .head-2 {
            text-align: right;
            text-transform: uppercase;
        }

        #invoice thead tr th {
            text-align: left;
            border-bottom: 1px solid black;
            border-top: 1px solid black;
            padding-top: 4px;
        }

        #invoice thead tr {
            margin-bottom: 0;
            padding-bottom: 0;
        }

        #invoice tbody tr {
            padding: 0;
        }

        .text-center{
            text-align: center;
        }
    </style>
    <body>
      <img src="{{ company.get_photo_image_ticket }}" class="img-invoice">
      <p class="head">
          <b>{{ company.name|upper }}</b><br>
          <b>Razón Social:</b> {{ company.name|upper }}<br>
          <b>Domicilio Comercial:</b> {{ company.address|upper }} - {{ company.residence_city }},
          {{ company.residence_city.province.name }}, {{ company.residence_city.province.country.name }}<br>
          <b>Condición frente al IVA:</b> {{ company.fiscal_condition.name }}<br>
      </p>
      <p class="head-2">
          <b>FACTURA</b><br>
          <b>Punto de Venta:</b> {{ ticket }}<br>
          <b>Fecha de Emisión:</b> {{ ticket.date_joined }}<br>
          <b>CUIT:</b> {{ company.document }}<br>
          <b>Ingresos Brutos:</b> {{ company.document_IIBB }}<br>
          <b>Fecha de inicio de Actividades:</b> {{ company.date_activity_start }}
      </p>
      <hr>
      <p>
          <b>CUIT:</b> {{ ticket.client.document }}
          <b>Apellido y Nombre / Razón Social:</b> {{ ticket.client|upper }}<br>
          <b>Condición frente al IVA:</b> {{ ticket.client.fiscal_condition.name }}
          <b>Domicilio:</b> {{ ticket.client.address }} - {{ ticket.client.residence_city }},
          {{ ticket.client.residence_city.province.name }},
          {{ ticket.client.residence_city.province.country.name }}<br>
          <b>Condición de Venta:</b> {{ ticket.sale_condition.name }}
      </p>
      <hr>
      <table id="invoice">
          <thead>
            <tr>
                <th style="width: 55%;">PRODUCTO</th>
                <th style="width: 10%; text-align: center;">CANTIDAD</th>
                <th style="width: 20%; text-align: center;">PRECIO FINAL</th>
                <th style="width: 20%; text-align: right;">SUBTOTAL</th>
            </tr>
          </thead>
          <tbody>
            {% for det in ticket.ticket_detail_set.all %}
              <tr {% if forloop.first %} style="padding-top: 3px;" {% endif %}>
                  <td>{{ det.product.id }} - {{ det.product.name }}</td>
                  <td class="text-center">{{ det.quantity }}</td>
                  <td class="text-center">${{ det.final_price }}</td>
                  <td style="text-align: right;">${{ det.subtotal }}</td>
              </tr>
            {% endfor %}
            <tr style="border-top: 1px solid black; padding-top: 4px;">
                <td colspan="4"><b>SUBTOTAL</b></td>
                <td style="text-align: right">${{ ticket.subtotal }}</td>
            </tr>
            <tr style="padding-top: 0px;">
                <td colspan="4"><b>IMPUESTO</b></td>
                <td style="text-align: right">${{ ticket.total_tax }}</td>
            </tr>
            <tr style="padding-top: 0px;">
                <td colspan="4"><b>TOTAL</b></td>
                <td style="text-align: right">${{ ticket.total }}</td>
            </tr>
          </tbody>
      </table>
      <table style="margin-top: 250px;">
          <thead>
            <tr>
                <th>****GRACIAS POR SU COMPRA****</th>
            </tr>
          </thead>
      </table>
    </body>
</html>
